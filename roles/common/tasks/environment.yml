- name: Copy aliases
  copy: 
    src=.bash_aliases 
    dest="{{ USER_PATH }}/.bash_aliases"
  tags: aliases

- name: Generate telegram_notification_disk.sh file and copy it
  template:
    src: telegram_notification_disk.j2
    dest: "{{ USER_PATH }}/scripts/cron/telegram_notification_disk.sh"
    owner: root
    group: root
    mode: '0755'
  tags: cron

- name: Create cron job for telegram_notification_disk.sh
  cron:
    name: "Disk space check"
    minute: "30"
    hour: "4"
    job: "{{ USER_PATH }}/scripts/cron/telegram_notification_disk.sh > /dev/null 2>&1"
  tags: cron

- name: Generate telegram_notification_argument.sh file and copy it
  template:
    src: telegram_notification_argument.j2
    dest: "{{ USER_PATH }}/scripts/telegram_notification_argument.sh"
    owner: root
    group: root
    mode: '0755'
  tags: telegram

- name: Copy Tailscale reverse proxy config files
  copy: 
    src=tailscale.json 
    dest="{{ STORAGE }}/docker/tailscale/config/tailscale.json"
  tags: ts

- name: Copy Caddyfile config
  copy: 
    src=Caddyfile 
    dest="{{ STORAGE }}/docker/caddy/Caddyfile"
  tags: caddy
